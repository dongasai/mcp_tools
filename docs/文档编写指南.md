# 文档编写指南

## 概述

本指南规定了MCP Tools项目文档的编写规范，确保文档的一致性、可读性和维护性。

## 核心原则

### 1. 概念优先，实现分离
- **重点描述**：架构设计、功能特性、业务逻辑
- **避免包含**：具体代码实现、详细语法示例
- **目标**：让读者理解"是什么"和"为什么"，而不是"怎么做"

### 2. 结构化组织
- 使用清晰的标题层次结构
- 采用一致的章节组织方式
- 提供完整的目录和导航

### 3. 面向用户
- 从用户角度描述功能和特性
- 提供清晰的使用场景说明
- 避免过度技术化的表述

## 文档结构规范

### 模块文档结构

每个模块文档应包含以下标准章节：

#### 1. 概述
- 模块的主要职责和作用
- 在整体架构中的位置
- 与其他模块的关系

#### 2. 职责范围
- 详细的功能列表
- 明确的边界定义
- 不负责的内容说明

#### 3. 目录结构
- 模块内部的组织结构
- 各子目录的作用说明
- 文件命名规范

#### 4. 核心组件
- 主要服务和类的功能描述
- 组件间的协作关系
- 接口和契约定义

#### 5. 数据模型
- 主要实体的属性说明
- 实体间的关系描述
- 数据流向和生命周期

#### 6. 业务流程
- 关键业务流程的描述
- 状态转换和工作流
- 异常处理机制

#### 7. 配置管理
- 配置项的说明
- 环境变量支持
- 默认值和推荐设置

#### 8. 集成接口
- 对外提供的API
- 事件发布和订阅
- 与其他模块的集成点

## 内容编写规范

### 功能描述格式

**推荐格式**：
```markdown
### 服务名称 - 简短描述

**主要功能**：
- 功能点1的描述
- 功能点2的描述
- 功能点3的描述

**核心特性**：
- 特性1及其价值
- 特性2及其价值
- 特性3及其价值

**使用场景**：
- 场景1的描述
- 场景2的描述
```

### 接口描述格式

**推荐格式**：
```markdown
### 接口名称

**接口类型**：REST API / MCP Resource / MCP Tool

**主要参数**：
- `参数名` - 参数描述和类型
- `参数名` - 参数描述和类型

**响应内容**：
- 返回数据的结构说明
- 状态码和错误处理
- 特殊情况说明
```

### 流程描述格式

**推荐格式**：
```markdown
### 流程名称

**流程步骤**：
1. 步骤1的描述
2. 步骤2的描述
3. 步骤3的描述

**参与角色**：
- 角色1及其职责
- 角色2及其职责

**异常处理**：
- 异常情况1的处理方式
- 异常情况2的处理方式
```

## 禁止内容

### 1. 具体代码实现
- 不包含完整的类定义
- 不包含方法实现细节
- 不包含具体的SQL语句
- 不包含详细的配置文件内容

### 2. 技术细节
- 避免框架特定的语法
- 避免数据库特定的实现
- 避免第三方包的具体用法

### 3. 版本相关信息
- 避免硬编码的版本号
- 避免特定时间的信息
- 避免临时性的实现说明

## 推荐内容

### 1. 架构设计
- 模块间的依赖关系
- 数据流向和处理流程
- 设计模式和架构原则

### 2. 业务逻辑
- 业务规则和约束
- 状态机和工作流
- 用户故事和使用场景

### 3. 集成方案
- 模块间的协作方式
- 事件驱动的通信机制
- 接口设计和数据格式

## 文档维护

### 1. 版本控制
- 文档与代码同步更新
- 重要变更记录在CHANGELOG中
- 保持文档的时效性

### 2. 审查机制
- 新文档需要经过审查
- 定期检查文档的准确性
- 收集用户反馈并改进

### 3. 链接管理
- 保持内部链接的有效性
- 及时更新外部链接
- 提供清晰的导航路径

## 示例对比

### ❌ 不推荐的写法

```markdown
### UserService

```php
class UserService {
    public function create(array $data): User {
        $user = new User();
        $user->name = $data['name'];
        $user->email = $data['email'];
        $user->save();
        return $user;
    }
}
```
```

### ✅ 推荐的写法

```markdown
### UserService - 用户管理服务

**主要功能**：
- 用户账户的创建和管理
- 用户信息的验证和更新
- 用户状态的跟踪和维护

**核心特性**：
- 支持多种注册方式
- 提供用户信息验证
- 集成邮件通知功能

**服务接口**：
- 用户创建和注册流程
- 用户信息查询和更新
- 用户状态管理和监控
```

## 工具和辅助

### 1. 文档生成
- 使用Markdown格式编写
- 支持自动目录生成
- 提供文档预览功能

### 2. 图表支持
- 使用Mermaid绘制流程图
- 支持架构图和关系图
- 保持图表的简洁性

### 3. 模板使用
- 提供标准的文档模板
- 确保结构的一致性
- 简化文档创建过程

---

**相关文档**：
- [模块架构概述](./modules/模块架构概述.md)
- [开发指南](./modules/开发指南.md)
- [API设计规范](./api/README.md)
